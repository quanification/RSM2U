<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>RSM2U Waitlist</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    #thank-you {
      display: none;
      margin-top: 2em;
      text-align: center;
    }
  </style>
</head>
<body>
  <main>
    <h1>Join the RSM2U Waitlist</h1>
    <p>Due to our limited number of drivers currently, we can only handle so much volume. Please fill out the form below to join the waitlist. We’ll contact you with access to the delivery platform as we continue to grow. Thanks for your understanding and we look forward to servicing you!</p>

    <form id="waitlist-form" action="https://formspree.io/f/YOUR_FORM_ID" method="POST">
      <label for="name">Full Name</label>
      <input type="text" id="name" name="name" required />

      <label for="email">Email Address</label>
      <input type="email" id="email" name="email" required />

      <label for="phone">Phone Number</label>
      <input type="tel" id="phone" name="phone" required />

      <label for="address">Street Address</label>
      <input type="text" id="address" name="address" required />

      <button type="submit">Join Waitlist</button>
    </form>

    <div id="thank-you">
      <h2>✅ Thank You!</h2>
      <p>We've received your waitlist request. You’ll be redirected to the homepage shortly...</p>
    </div>
  </main>

  <script>
    document.getElementById("waitlist-form").addEventListener("submit", function (e) {
      e.preventDefault();

      const form = e.target;
      const formData = new FormData(form);

      fetch(form.action, {
        method: "POST",
        body: formData,
        headers: {
          'Accept': 'application/json'
        }
      }).then(response => {
        if (response.ok) {
          form.style.display = 'none';
          const thankYou = document.getElementById("thank-you");
          thankYou.style.display = 'block';
          // Auto-redirect after 5 seconds
          setTimeout(() => {
            window.location.href = "/";
          }, 5000);
        } else {
          alert("Oops! There was a problem submitting the form.");
        }
      }).catch(error => {
        alert("Network error. Please try again later.");
      });
    });
  </script>
</body>
</html>
